(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,n){e.exports=n(49)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),u=n.n(c),i=(n(29),n(6)),o=n(2),l=n(20),s=n(5),f=function(e){var t=e.ps;return a.a.createElement("span",{className:"word-pieces"},t.map((function(e,t){return a.a.createElement(p,{wp:e,key:t})})))},p=function(e){var t=e.wp;if("string"===typeof t)return a.a.createElement("ruby",null,t);var n=t.text,r=t.kana;return a.a.createElement("ruby",null,n," ",a.a.createElement("rt",null,r)," ")},d=function(e){var t=e.desc;return a.a.createElement(a.a.Fragment,null,t.split("\n").map((function(e,t){return a.a.createElement("p",{key:t},e)})))},b=(n(30),n(31),function(e){var t=e.children,n=e.active,r=Object(o.a)(t,2),c=r[0],u=r[1];return a.a.createElement("div",{className:n?"tooltip-wrapper active":"tooltip-wrapper"},a.a.createElement("div",{className:n?"tooltip-ele active":"tooltip-ele"},c),a.a.createElement("div",{className:"tooltip-tooltip"},u))}),m=(n(32),function(e){var t=e.icon;return a.a.createElement("i",Object.assign({},e,{className:"fa fa-".concat(t),"aria-hidden":"true"}))}),v=n(21),O=n.n(v),h=(n(36),function(e){var t=e.tag,n=e.onDelete;return a.a.createElement("div",{className:"word-tag"},t.name,a.a.createElement("span",{className:"word-tag-del",onDoubleClick:n},"\u2715"))}),E=function(e){var t=e.tags,n=e.onDelete,r=e.onAddition;return a.a.createElement(O.a,{tags:t.map((function(e){return{id:e,name:e}})),onDelete:n,onAddition:r,allowNew:!0,allowBackspace:!1,tagComponent:h,autoResize:!0,placeholderText:"       "})};function j(e){return e.map((function(e){return"string"===typeof e?e:e.text+"("+e.kana+")"})).join("")}function y(e){var t=e.tags.map((function(e){return"#"+e})).join(" ");return[t,j(e.content),e.description,t].join("\n")}function w(e){return"Insert\n"+function(e){return e.map(y).join("\n")}(e.map((function(e){return e.value})))}function g(e){!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("query.txt",w(e))}var k,x=n(1);!function(e){e[e.Character=0]="Character",e[e.LParen=1]="LParen",e[e.RParen=2]="RParen"}(k||(k={}));var N=Object(x.buildLexer)([[!0,/^[^()]/g,k.Character],[!0,/^\(/g,k.LParen],[!0,/^\)/g,k.RParen]]),q=Object(x.apply)(Object(x.tok)(k.Character),(function(e){return e.text})),C=Object(x.apply)(Object(x.rep_sc)(q),(function(e){return e.join("")})),D=Object(x.kmid)(Object(x.tok)(k.LParen),C,Object(x.tok)(k.RParen)),A=Object(x.apply)(Object(x.seq)(q,Object(x.opt_sc)(D)),(function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return r?{text:n,kana:r}:n})),S=Object(x.apply)(Object(x.seq)(A,Object(x.rep_sc)(A)),(function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return[n].concat(Object(i.a)(r))}));function L(e){return Object(x.expectSingleResult)(Object(x.expectEOF)(S.parse(N.parse(e.trim()))))}var T,P,I,M,R,G=n(9),_=n(12),B=n(13),F=function(){function e(t,n,r,a,c,u){Object(_.a)(this,e),this.lexer=t,this.input=n,this.kind=r,this.text=a,this.pos=c,this.keep=u,this.nextToken=void 0}return Object(B.a)(e,[{key:"next",get:function(){return void 0===this.nextToken&&(this.nextToken=this.lexer.parseNextAvailable(this.input,this.pos.index+this.text.length,this.pos.rowEnd,this.pos.columnEnd),void 0===this.nextToken&&(this.nextToken=null)),null===this.nextToken?void 0:this.nextToken}}]),e}(),W=function(){function e(t){Object(_.a)(this,e),this.rules=t,this._rules=void 0;var n,r=Object(G.a)(this.rules);try{for(r.s();!(n=r.n()).done;){var a=n.value;if("^"!==a[1].source[0])throw new Error('Regular expression patterns for a tokenizer should start with "^": '.concat(a[1].source));if(!a[1].global)throw new Error("Regular expression patterns for a tokenizer should be global: ".concat(a[1].source))}}catch(c){r.e(c)}finally{r.f()}this._rules=t}return Object(B.a)(e,[{key:"parse",value:function(e){return this.rules=this._rules,this.parseNextAvailable(e,0,1,1)}},{key:"parseNext",value:function(e,t,n,r){if(t!==e.length){var a,c,u=e.substr(t),i=Object(G.a)(this.rules);try{for(i.s();!(c=i.n()).done;){var l=Object(o.a)(c.value,3),s=l[0],f=l[1],p=l[2];if(f.lastIndex=0,f.test(u)){var d,b=u.substr(0,f.lastIndex),m=n,v=r,O=Object(G.a)(b);try{for(O.s();!(d=O.n()).done;){switch(d.value){case"\r":break;case"\n":m++,v=1;break;default:v++}}}catch(h){O.e(h)}finally{O.f()}a=new F(this,e,p,b,{index:t,rowBegin:n,columnBegin:r,rowEnd:m,columnEnd:v},s);break}}}catch(h){i.e(h)}finally{i.f()}if(void 0===a)throw new x.TokenError({index:t,rowBegin:n,columnBegin:r,rowEnd:n,columnEnd:r},"Unable to tokenize the rest of the input: ".concat(e.substr(t)));return/^insert/gi.test(a.text)&&(this.rules=this.rules.slice(-3)),a}}},{key:"parseNextAvailable",value:function(e,t,n,r){for(var a;;){if(void 0===(a=this.parseNext(e,void 0===a?t:a.pos.index+a.text.length,void 0===a?n:a.pos.rowEnd,void 0===a?r:a.pos.columnEnd)))return;if(a.keep)return a}}}]),e}();function K(e,t){return{type:T.Atom,t:e,v:t}}function V(e){return K(P.Const,e)}function z(e){return function(t,n){return{type:T.Binop,op:e,l:t,r:n}}}!function(e){e[e.Atom=0]="Atom",e[e.Binop=1]="Binop"}(T||(T={})),function(e){e[e.Tag=0]="Tag",e[e.Var=1]="Var",e[e.Const=2]="Const"}(P||(P={})),function(e){e[e.And=0]="And",e[e.Or=1]="Or",e[e.Add=2]="Add",e[e.Minus=3]="Minus",e[e.Divide=4]="Divide",e[e.Multiply=5]="Multiply",e[e.Equal=6]="Equal",e[e.Less=7]="Less",e[e.Greater=8]="Greater",e[e.LessEq=9]="LessEq",e[e.GreaterEq=10]="GreaterEq"}(I||(I={})),function(e){e[e.Delete=0]="Delete",e[e.Orderby=1]="Orderby",e[e.Slice=2]="Slice"}(M||(M={})),function(e){e[e.Insert=0]="Insert",e[e.LParen=1]="LParen",e[e.RParen=2]="RParen",e[e.Tag=3]="Tag",e[e.Space=4]="Space",e[e.Line=5]="Line",e[e.And=6]="And",e[e.Or=7]="Or",e[e.True=8]="True",e[e.False=9]="False",e[e.Number=10]="Number",e[e.Add=11]="Add",e[e.Minus=12]="Minus",e[e.Divide=13]="Divide",e[e.Multiply=14]="Multiply",e[e.Equal=15]="Equal",e[e.Less=16]="Less",e[e.Greater=17]="Greater",e[e.LessEq=18]="LessEq",e[e.GreaterEq=19]="GreaterEq",e[e.Variable=20]="Variable",e[e.Delete=21]="Delete",e[e.Slice=22]="Slice",e[e.Orderby=23]="Orderby",e[e.Colon=24]="Colon"}(R||(R={}));var U,H,J,Z=(U=[[!0,/^Insert/gi,R.Insert],[!0,/^Delete/gi,R.Delete],[!0,/^Orderby/gi,R.Orderby],[!0,/^Slice/gi,R.Slice],[!0,/^true/gi,R.True],[!0,/^false/gi,R.False],[!0,/^\d+(\.\d+)?/g,R.Number],[!0,/^[&]{2}/g,R.And],[!0,/^[|]{2}/g,R.Or],[!0,/^[+]/g,R.Add],[!0,/^[-]/g,R.Minus],[!0,/^[*]/g,R.Multiply],[!0,/^[/]/g,R.Divide],[!0,/^[<][=]/g,R.LessEq],[!0,/^[>][=]/g,R.GreaterEq],[!0,/^[<]/g,R.Less],[!0,/^[>]/g,R.Greater],[!0,/^[=]{2}/g,R.Equal],[!0,/^[:]/g,R.Colon],[!0,/^\$[a-zA-Z0-9]+/g,R.Variable],[!0,/^\(/g,R.LParen],[!0,/^\)/g,R.RParen],[!0,/^\#[a-zA-Z0-9]+/g,R.Tag],[!1,/^[\s]+/g,R.Space],[!0,/^[^\s][^\n]*/g,R.Line]],new W(U)),$=Object(x.apply)(Object(x.tok)(R.Line),(function(e){return e.text})),Q=Object(x.apply)(Object(x.seq)($,$),(function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return{content:L(n),description:r}})),X=Object(x.apply)(Object(x.tok)(R.Tag),(function(e){return e.text.substr(1)})),Y=Object(x.list_sc)(X,Object(x.nil)()),ee=Object(x.kright)(Object(x.tok)(R.Insert),Object(x.apply)(Object(x.rep_sc)(Object(x.alt)(Q,Y)),(function(e){return{type:"Insert",words:e}}))),te=Object(x.alt)(Object(x.apply)(Object(x.tok)(R.True),(function(){return V(!0)})),Object(x.apply)(Object(x.tok)(R.False),(function(){return V(!1)}))),ne=Object(x.apply)(Object(x.tok)(R.Number),(function(e){return+e.text})),re=Object(x.apply)(ne,(function(e){return V(e)})),ae=Object(x.alt)(te,re),ce=Object(x.apply)(Object(x.tok)(R.Variable),(function(e){return K(P.Var,e.text.substr(1))})),ue=Object(x.apply)(X,(function(e){return K(P.Tag,e)})),ie=Object(x.alt)(ue,ae,ce),oe=[[[R.Multiply,z(I.Multiply)],[R.Divide,z(I.Divide)]],[[R.Add,z(I.Add)],[R.Minus,z(I.Minus)]],[[R.Equal,z(I.Equal)],[R.Less,z(I.Less)],[R.Greater,z(I.Greater)],[R.GreaterEq,z(I.GreaterEq)],[R.LessEq,z(I.LessEq)]],[[R.And,z(I.And)]],[[R.Or,z(I.Or)]]],le=Object(x.rule)(),se=Object(x.alt)(ie,Object(x.kmid)(Object(x.str)("("),le,Object(x.str)(")")));for(var fe=0,pe=oe;fe<pe.length;fe++){var de=pe[fe].map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(x.apply)(Object(x.tok)(n),(function(){return r}))})).reduce((function(e,t){return Object(x.alt)(e,t)}));H=se,J=de,se=Object(x.lrec_sc)(H,Object(x.seq)(J,H),(function(e,t){return t[0](e,t[1])}))}le.setPattern(se);var be=Object(x.apply)(Object(x.tok)(R.Delete),(function(){return{type:M.Delete}})),me=Object(x.apply)(Object(x.kright)(Object(x.tok)(R.Orderby),le),(function(e){return{type:M.Orderby,value:e}})),ve=Object(x.seq)(Object(x.opt_sc)(ne),Object(x.tok)(R.Colon),Object(x.opt_sc)(ne)),Oe=Object(x.apply)(Object(x.kright)(Object(x.tok)(R.Slice),ve),(function(e){var t=Object(o.a)(e,3),n=t[0],r=(t[1],t[2]);return{type:M.Slice,start:n,end:r}})),he=Object(x.alt)(be,me,Oe),Ee=Object(x.rep_sc)(he),je=Object(x.apply)(Object(x.nil)(),(function(){return V(!0)})),ye=Object(x.alt)(le,je),we=Object(x.alt)(ee,Object(x.apply)(Object(x.seq)(ye,Ee),(function(e){var t=Object(o.a)(e,2);return{type:"Filter",expr:t[0],stmts:t[1]}})));var ge,ke=(ge=we,function(e){return Object(x.expectSingleResult)(Object(x.expectEOF)(ge.parse(Z.parse(e))))}),xe=function(e){return a.a.createElement("div",{className:"header"},a.a.createElement(Ne,e),a.a.createElement(Ce,{query:e.query}))},Ne=function(e){return a.a.createElement("div",{className:"header-buttons"},a.a.createElement(qe,e),a.a.createElement("button",{onClick:e.toggleHide},a.a.createElement(m,{icon:"eye-slash"})),a.a.createElement("button",{onClick:e.export},a.a.createElement(m,{icon:"file-download"})," "))},qe=function(e){var t=e.addWord,n=e.init,c=e.cancel,u=Object(r.useState)([]),l=Object(o.a)(u,2),s=l[0],f=l[1],p=Object(r.useRef)(),d=Object(r.useRef)(),v=Object(r.useState)(!1),O=Object(o.a)(v,2),h=O[0],y=O[1],w=function(){d.current.value="",p.current.value="",d.current.focus()},g=function(){y(!1),q(!1),c()};Object(r.useEffect)((function(){null===n?w():(y(!0),q(!1),p.current.value=n.description,d.current.value=j(n.content),f(n.tags))}),[n]);var k=Object(r.useState)(!1),x=Object(o.a)(k,2),N=x[0],q=x[1],C=function(){try{var e=L(d.current.value),r=p.current.value;t({content:e,description:r,tags:s}).then((function(){w(),null!==n&&g()}))}catch(a){q(!0),console.log(a)}};return a.a.createElement(b,{active:h},a.a.createElement("button",{onClick:function(){return h?g():y(!0)},className:"add"},a.a.createElement(m,{icon:"plus"})),a.a.createElement("div",{className:"newword-form"},a.a.createElement(E,{tags:s,onDelete:function(e){f(s.filter((function(t,n){return n!==e})))},onAddition:function(e){f([].concat(Object(i.a)(s),[e.name]))}}),a.a.createElement("div",{className:"label"},"Word"),a.a.createElement("input",{onKeyDown:function(e){"Escape"===e.key&&De(d),q(!1)},ref:d,type:"text",className:N?"word-input error":"word-input",placeholder:"e.g. \u898b(\u307f)\u308b. Press [Esc] to insert ()"}),a.a.createElement("div",{className:"label"},"Definition"),a.a.createElement("textarea",{onKeyDown:function(e){(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&C()},ref:p}),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"save",onClick:C},a.a.createElement(m,{icon:"save"})),a.a.createElement("button",{className:"cancel",onClick:g},a.a.createElement(m,{icon:"ban"})))))},Ce=function(e){var t=e.query,n=Object(r.useState)(!1),c=Object(o.a)(n,2),u=c[0],i=c[1],l=Object(r.useRef)(),s=function(){if(l.current){var e=l.current.value;t(ke(e))}};return a.a.createElement("div",{className:"header-query"},a.a.createElement("textarea",{onKeyDown:function(e){"Escape"===e.key&&De(l),(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&s()},ref:l,rows:u?20:1,placeholder:"Input query",onFocus:function(){return i(!0)},onBlur:function(){return i(!1)}}),a.a.createElement("span",{className:"icon",onClick:s},a.a.createElement(m,{icon:"search"})))};function De(e){var t=e.current.selectionStart;if(null!==t){var n=e.current.value;e.current.value=n.slice(0,t)+"()"+n.slice(t),e.current.selectionStart=t+1,e.current.selectionEnd=t+1}}n(42);var Ae=n(3),Se=n.n(Ae),Le=n(4),Te=n(22),Pe=n.n(Te).a.createInstance({name:"vocabulary"});function Ie(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object(Le.a)(Se.a.mark((function e(t,n){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.setItem(t,n);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=0;function Ge(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(Le.a)(Se.a.mark((function e(t){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now().toString()+"."+Re++,r=Object(s.a)(Object(s.a)({},t),{},{reviewtime:1,lastreview:new Date}),e.next=4,Ie(n,r);case 4:return e.abrupt("return",{key:n,value:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(Le.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(Ge));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t){return We.apply(this,arguments)}function We(){return(We=Object(Le.a)(Se.a.mark((function e(t,n){var r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,Pe.getItem(t);case 3:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.next=7,Ie(t,r);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(Le.a)(Se.a.mark((function e(t){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return e.reviewtime+=1,e.lastreview=new Date,e},e.next=3,Fe(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(Le.a)(Se.a.mark((function e(t){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=t||function(){return!0},e.next=4,Pe.iterate((function(e,t){r(e)&&n.push({key:t,value:e})}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return He.apply(this,arguments)}function He(){return(He=Object(Le.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.removeItem(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(Le.a)(Se.a.mark((function e(){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.length();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t){switch(e.t){case P.Tag:return t.tags.includes(e.v);case P.Var:switch(e.v){case"review":return t.reviewtime;case"days":return n=Date.now(),r=t.lastreview.getTime(),Math.round((n-r)/864e5);case"rand":return Math.random();default:throw Error("Unknown variable ".concat(e.v))}case P.Const:return e.v}var n,r}function $e(e){return function(t){switch(e.type){case T.Atom:return Ze(e,t);case T.Binop:var n=$e(e.l)(t),r=$e(e.r)(t);return function(e,t,n){if("number"===typeof t&&"number"===typeof n)switch(e){case I.Add:return t+n;case I.Minus:return t-n;case I.Multiply:return t*n;case I.Divide:return t/n;case I.LessEq:return t<=n;case I.GreaterEq:return t>=n;case I.Less:return t<n;case I.Greater:return t>n}if("boolean"===typeof t&&"boolean"===typeof n)switch(e){case I.And:return t&&n;case I.Or:return t||n}if(typeof t===typeof n)switch(e){case I.Equal:return t===n}throw Error("Incmpatible type of binary operator")}(e.op,n,r)}}}function Qe(e){var t={},n=[];return e.forEach((function(e){Array.isArray(e)?e.forEach((function(e){e in t?delete t[e]:t[e]=null})):n.push(Object(s.a)(Object(s.a)({},e),{},{tags:Object.keys(t)}))})),function(e){return Be.apply(this,arguments)}(n)}function Xe(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(Le.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return Ue(e.key)})));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e){switch(e.type){case M.Delete:return Xe;case M.Orderby:return function(e){var t=function(t){return $e(e)(t.value)};return function(e){return new Promise((function(n){return n(function(e,t){var n=e.map((function(e){return[t(e),e]}));return n.sort((function(e,t){return e[0]-t[0]})),n.map((function(e){return e[1]}))}(e,t))}))}}(e.value);case M.Slice:return t=e.start,n=e.end,function(e){return new Promise((function(r){return r(e.slice(void 0===t?0:t,void 0===n?e.length:n))}))}}var t,n}function tt(e){return function(t){var n,r=function(e){return new Promise((function(t){return t(e)}))}(t),a=Object(G.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;r=r.then(c)}}catch(u){a.e(u)}finally{a.f()}return r}}function nt(){return(nt=Object(Le.a)(Se.a.mark((function e(t,n){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t.map(et))(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rt=n(23),at=n.n(rt),ct=(n(46),function(e){var t=e.content,n=e.onClose;return null===t?a.a.createElement(a.a.Fragment,null):a.a.createElement("div",{className:"modal",onKeyDown:function(e){"Escape"===e.key&&n()}},a.a.createElement("div",{className:"modal-content"},t))}),ut=(n(47),function(e){var t=e.word,n=e.onClose,r=null===t?null:a.a.createElement(it,e);return a.a.createElement(ct,{content:r,onClose:n})}),it=function(e){var t=e.word,n=e.prevWord,c=e.nextWord,u=e.onClose,i=e.review,l=e.index,s=t.value,p=s.content,b=s.description,v=s.tags,O=s.lastreview,h=s.reviewtime,E=t.reviewed,j=l.widx,y=l.length,w=Object(r.useState)(!1),g=Object(o.a)(w,2),k=g[0],x=g[1],N=j>0,q=j<y-1,C=function(e,t){return t+(e?" disabled":"")},D=function(){x(!1),n()},A=function(){x(!1),c()},S=at()(O).fromNow(),L=Object(r.useRef)(null);Object(r.useEffect)((function(){var e;null===(e=L.current)||void 0===e||e.focus()}),[]);return a.a.createElement("div",{className:E?"wordcard-wrapper reviewed":"wordcard-wrapper",onKeyDown:function(e){switch(e.key){case"a":D();break;case"s":i();break;case"d":A();break;case"w":x(!0)}},tabIndex:0,ref:L},a.a.createElement("button",{className:"close",onClick:u},"\xd7"),a.a.createElement("div",{className:"info"},"Reviewed ",S),a.a.createElement("div",{className:"wordcard-nav"},a.a.createElement("div",{className:"wordcard"},a.a.createElement("div",{className:"content"+(k?" uncover":"")},a.a.createElement(f,{ps:p})),a.a.createElement("div",{className:"tags"},v.map((function(e,t){return a.a.createElement("span",{key:t},e)}))),a.a.createElement("div",{className:"description"},a.a.createElement(d,{desc:b})),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{title:"S",disabled:E,onClick:i},"Review ",h))),a.a.createElement("div",{className:C(N,"nav-left"),onClick:D,title:"A"},a.a.createElement(m,{icon:"chevron-left"})),a.a.createElement("div",{className:C(q,"nav-right"),onClick:A,title:"D"},a.a.createElement(m,{icon:"chevron-right"})),a.a.createElement("div",{className:"index"},j+1," / ",y)))};function ot(e){return Object(s.a)(Object(s.a)({},e),{},{reviewed:!1})}var lt=function(e){Object(l.a)(e);var t=Object(r.useState)([]),n=Object(o.a)(t,2),c=n[0],u=n[1],f=Object(r.useState)(!1),p=Object(o.a)(f,2),d=p[0],b=p[1],m=Object(r.useState)(null),v=Object(o.a)(m,2),O=v[0],h=v[1],E=Object(r.useState)(!1),j=Object(o.a)(E,2),y=j[0],w=j[1],k=Object(r.useState)(null),x=Object(o.a)(k,2),N=x[0],q=x[1],C=Object(r.useState)(0),D=Object(o.a)(C,2),A=D[0],S=D[1],L=Object(r.useState)(!1),T=Object(o.a)(L,2),P=T[0],I=T[1];Object(r.useEffect)((function(){(function(){return Je.apply(this,arguments)})().then(S)})),Object(r.useEffect)((function(){Ve().then((function(e){return u(e.map(ot))}))}),[]);var M=function(e){null===e?h(null):0<=e&&e<c.length&&h(e)},R=function(e){return function(){Ue(c[e].key).then((function(){u(c.filter((function(t,n){return e!==n})))}))}},G=function(e){if(null!==e&&!c[e].reviewed){var t=c[e].key;(function(e){return Ke.apply(this,arguments)})(t).then((function(n){c[e]={key:t,value:n,reviewed:!0},w(!y)}))}};return a.a.createElement("div",{className:(d?"hide":"")+(P?" busy":"")},a.a.createElement("div",{className:"vocabulary"},a.a.createElement(xe,{addWord:null===N?function(e){return Ge(e).then((function(e){return u([ot(e)].concat(Object(i.a)(c)))}))}:function(e){var t=c[e].key;return function(n){return Fe(t,(function(e){return Object(s.a)(Object(s.a)({},e),n)})).then((function(t){c[e].value=t,w(!y)}))}}(N),init:null===N?null:c[N].value,cancel:function(){return q(null)},toggleHide:function(){return b(!d)},query:function(e){var t;switch(I(!0),e.type){case"Insert":t=Qe(e.words).then((function(e){u([].concat(Object(i.a)(e.map(ot)),Object(i.a)(c)))}));break;case"Filter":t=Ve($e(e.expr)).then((function(t){return function(e,t){return nt.apply(this,arguments)}(e.stmts,t.map(ot))})).then(u)}t.then((function(){return I(!1)}))},export:function(){return g(c)}}),a.a.createElement("div",{className:"table_info"},c.length," out of ",A," words selected."),a.a.createElement("table",{className:"word-table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Word"),a.a.createElement("th",null,"Description"),a.a.createElement("th",null,"Tags"))),a.a.createElement("tbody",null,c.map((function(e,t){return a.a.createElement(st,{word:e,key:e.key,activate:function(){M(t)},del:R(t),review:function(){return G(t)},edit:function(){return q(t)}})}))))),null!==O?a.a.createElement(ut,{onClose:function(){M(null)},nextWord:function(){M(O+1)},prevWord:function(){M(O-1)},review:function(){return G(O)},word:c[O],index:{widx:O,length:c.length}}):a.a.createElement(a.a.Fragment,null))},st=function(e){var t=e.word,n=e.activate,r=e.del,c=e.review,u=e.edit,i=t.value,o=i.content,l=i.tags,s=i.description,p=t.reviewed;return a.a.createElement("tr",{onClick:n,className:p?"reviewed":""},a.a.createElement("td",null,a.a.createElement("div",{className:"content"},a.a.createElement(f,{ps:o}))),a.a.createElement("td",null,a.a.createElement("div",{className:"description"},s)),a.a.createElement("td",{valign:"top"},a.a.createElement("div",{className:"tags"},l.map((function(e,t){return a.a.createElement("span",{key:t},e)})))),a.a.createElement("td",{onClick:function(e){return e.stopPropagation()}},a.a.createElement(ft,{del:r,review:c,reviewed:p,edit:u})))},ft=function(e){var t=e.del,n=e.review,r=e.reviewed,c=e.edit;return a.a.createElement("div",{className:"controls"},a.a.createElement("button",{className:"edit",onClick:c},a.a.createElement(m,{icon:"pen-alt"})),a.a.createElement("button",{className:"review",onClick:n},a.a.createElement(m,{icon:r?"book-open":"book"})),a.a.createElement("button",{className:"delete",onDoubleClick:t},a.a.createElement(m,{icon:"trash-alt"})))};n(48);var pt=function(){return a.a.createElement("div",{className:"app"},a.a.createElement(lt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.43a2ca17.chunk.js.map